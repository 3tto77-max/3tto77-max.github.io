<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>PlayKing Links - Ù…ÙˆÙ„Ù‘Ø¯ Ø±ÙˆØ§Ø¨Ø· Ø§Ø­ØªØ±Ø§ÙÙŠ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ==== Ù†ÙØ³ ØªØµÙ…ÙŠÙ…Ùƒ Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ± ==== */
:root {
  --bg:#0a0e17;--card:#0f1525;--input:#1a2236;
  --accent:#3b82f6;--accent2:#10b981;--accent3:#8b5cf6;
  --text:#f8fafc;--muted:#94a3b8;--border:#2d3748;
}
*{box-sizing:border-box}
body{
  margin:0;padding:20px;font-family:system-ui;
  background:linear-gradient(135deg,#0a0e17,#0f172a);
  color:var(--text);min-height:100vh;display:flex;
  justify-content:center;align-items:center;
}
.container{
  width:100%;max-width:800px;background:var(--card);
  border-radius:24px;padding:30px;border:1px solid var(--border);
}
h1{text-align:center;color:#3b82f6}
label{margin-top:14px;display:block}
input,select{
  width:100%;padding:14px;border-radius:12px;
  border:2px solid var(--border);background:var(--input);
  color:white;margin-top:6px;
}
button{
  padding:15px;border:none;border-radius:12px;
  font-weight:bold;cursor:pointer;margin-top:20px;
}
.generate{background:#3b82f6;color:white}
.copy{background:#10b981;color:white}
.open{background:#8b5cf6;color:white}
.result{
  margin-top:20px;background:#000;padding:15px;
  border-radius:10px;font-family:monospace;word-break:break-all
}
</style>
</head>

<body>
<div class="container">

<h1>ğŸ¬ PlayKing Ù…ÙˆÙ„Ù‘Ø¯ Ø§Ù„Ø±ÙˆØ§Ø¨Ø·</h1>

<label>Ø±Ø§Ø¨Ø· Ø§Ù„Ø¨Ø« *</label>
<input id="url" placeholder="https://example.com/stream.m3u8">

<label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¨Ø«</label>
<input id="title" value="Ø¨Ø« Ù…Ø¨Ø§Ø´Ø±">

<label>Ù…Ø¯Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© (Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚)</label>
<input id="minutes" type="number" value="5">

<label>Scheme (DRM)</label>
<select id="scheme">
  <option value="">Ø¨Ø¯ÙˆÙ†</option>
  <option value="clearkey">ClearKey</option>
  <option value="widevine">Widevine</option>
  <option value="playready">PlayReady</option>
</select>

<label>Key / License</label>
<input id="key">

<label>User-Agent</label>
<input id="useragent">

<label>Referer</label>
<input id="referer">

<label>Cookie</label>
<input id="cookie">

<label>Origin</label>
<input id="origin">

<button class="generate" onclick="generate()">âš¡ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø±Ø§Ø¨Ø·</button>
<button class="copy" onclick="copyLink()">ğŸ“‹ Ù†Ø³Ø®</button>
<button class="open" onclick="openApp()">ğŸš€ ÙØªØ­</button>

<div id="result" class="result">Ø³ÙŠØ¸Ù‡Ø± Ø§Ù„Ø±Ø§Ø¨Ø· Ù‡Ù†Ø§</div>

</div>

<script>
/* ================================
   ğŸ” XOR + Base64 Encryption
================================ */
function xorEncrypt(text, key){
  let out='';
  for(let i=0;i<text.length;i++){
    out+=String.fromCharCode(
      text.charCodeAt(i)^key.charCodeAt(i%key.length)
    );
  }
  return btoa(out);
}

let generatedLink="";

function generate(){

  const url=document.getElementById("url").value.trim();
  if(!url){alert("Ø£Ø¯Ø®Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„Ø¨Ø«");return;}

  const title=document.getElementById("title").value.trim();
  const scheme=document.getElementById("scheme").value;
  const key=document.getElementById("key").value.trim();
  const useragent=document.getElementById("useragent").value.trim();
  const referer=document.getElementById("referer").value.trim();
  const cookie=document.getElementById("cookie").value.trim();
  const origin=document.getElementById("origin").value.trim();

  const minutes=parseInt(document.getElementById("minutes").value||5);
  const expire=Date.now()+(minutes*60*1000);

  /* payload Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ */
  const payload=JSON.stringify({
    url,title,scheme,key,useragent,referer,cookie,origin,exp:expire
  });

  const SECRET_KEY="3tto_key"; // ğŸ” Ù†ÙØ³ Ù…ÙØªØ§Ø­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
  const encrypted=xorEncrypt(payload,SECRET_KEY);

  generatedLink=
   "https://3tto77-max.github.io/play/?data="
   +encodeURIComponent(encrypted);

  document.getElementById("result").textContent=generatedLink;
}

function copyLink(){
  if(!generatedLink){alert("ÙˆÙ„Ù‘Ø¯ Ø§Ù„Ø±Ø§Ø¨Ø· Ø£ÙˆÙ„Ø§Ù‹");return;}
  navigator.clipboard.writeText(generatedLink);
  alert("ØªÙ… Ø§Ù„Ù†Ø³Ø® âœ…");
}

function openApp(){
  if(!generatedLink){alert("ÙˆÙ„Ù‘Ø¯ Ø§Ù„Ø±Ø§Ø¨Ø· Ø£ÙˆÙ„Ø§Ù‹");return;}
  window.open(generatedLink,"_blank");
}
</script>
</body>
</html>
