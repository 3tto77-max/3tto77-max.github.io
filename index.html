<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Vexo Generator</title>
    <style>
        body { padding: 20px; font-family: Arial; }
        input, textarea { width: 100%; padding: 10px; margin: 5px 0; }
        button { padding: 10px 20px; background: orange; color: black; border: none; margin: 10px; }
        .result { margin-top: 20px; padding: 15px; background: #f0f0f0; }
    </style>
</head>
<body>
    <h2>Vexo Link Generator</h2>
    
    <input type="text" id="title" value="بث مباشر" placeholder="Title"><br>
    <input type="text" id="scheme" value="clearkey" placeholder="Scheme"><br>
    <input type="text" id="key" value="448128e485ef44d98024e7c5f3fa078b:a5759aeb79afae384819a20c481e2c4a" placeholder="Key"><br>
    <input type="text" id="url" value="https://live-event-3-enc.edgenextcdn.net/out/v1/1117b28b859948afa6d5660460b392df/index.mpd" placeholder="Video URL"><br>
    
    <textarea id="referer" placeholder="Referer"></textarea><br>
    <textarea id="cookie" placeholder="Cookie (name=value)"></textarea><br>
    <textarea id="useragent" placeholder="User Agent"></textarea><br>
    
    <button onclick="generate()">Generate Link</button>
    
    <div class="result" id="result" style="display:none;">
        <h3>Your Link:</h3>
        <input type="text" id="generatedLink" style="width:100%;padding:10px;" readonly>
        <button onclick="copyLink()">Copy Link</button>
        <button onclick="testLink()">Test Link</button>
        
        <h3>HTML Code:</h3>
        <textarea id="htmlCode" rows="10"></textarea>
        <button onclick="copyHTML()">Copy HTML</button>
    </div>
    
    <script>
        function generate() {
            const params = new URLSearchParams({
                title: encodeURIComponent(document.getElementById('title').value),
                scheme: document.getElementById('scheme').value,
                key: encodeURIComponent(document.getElementById('key').value),
                url: encodeURIComponent(document.getElementById('url').value),
                referer: document.getElementById('referer').value,
                cookie: document.getElementById('cookie').value,
                useragent: document.getElementById('useragent').value
            });
            
            const link = "https://3tto77-max.github.io/play/?" + params.toString();
            document.getElementById('generatedLink').value = link;
            
            // إنشاء HTML
            const html = `<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Vexo Player</title>
    <style>
        body { background: #000; height: 100vh; margin: 0; display: flex; align-items: center; justify-content: center; }
        .play-btn { background: white; border: none; border-radius: 50%; width: 100px; height: 100px; cursor: pointer; }
    </style>
</head>
<body>
    <button class="play-btn" onclick="window.location.href='${link}'">▶</button>
    <script>
        setTimeout(() => window.location.href = "${link}", 2000);
    <\/script>
</body>
</html>`;
            
            document.getElementById('htmlCode').value = html;
            document.getElementById('result').style.display = 'block';
        }
        
        function copyLink() {
            document.getElementById('generatedLink').select();
            document.execCommand('copy');
            alert('Copied!');
        }
        
        function testLink() {
            window.open(document.getElementById('generatedLink').value, '_blank');
        }
        
        function copyHTML() {
            document.getElementById('htmlCode').select();
            document.execCommand('copy');
            alert('HTML Copied!');
        }
        
        // توليد عند التحميل
        generate();
    </script>
</body>
</html>
